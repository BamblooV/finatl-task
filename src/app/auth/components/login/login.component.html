<p-toast></p-toast>
<p-card class="form-container">
  <h2 class="title">Are you new here? Create account!</h2>
  <p-button routerLink="../signup" class="p-fluid" [raised]="true">Sign up</p-button>

  <p-divider></p-divider>

  <h2 class="title">Hurry up to log in!</h2>

  <form [formGroup]="form">
    <div class="field p-fluid">
      <label for="email">Email</label>
      <input
        formControlName="email"
        id="email"
        type="email"
        aria-describedby="Enter your email"
        autocomplete="email"
        pInputText />
      <small *ngIf="emailControl?.invalid && emailControl?.touched" id="email-help" class="p-error">{{
        getErrorMessage(emailControl)
      }}</small>
    </div>

    <div class="field p-fluid">
      <label for="password">Password</label>
      <p-password
        formControlName="password"
        id="password"
        aria-describedby="Enter your password"
        autocomplete="new-password"
        [toggleMask]="true"
        [feedback]="false">
      </p-password>
      <small *ngIf="passwordControl?.invalid && passwordControl?.touched" id="password-help" class="p-error">{{
        getErrorMessage(passwordControl)
      }}</small>

      <small *ngIf="form.invalid && form.touched" class="p-error">{{ getErrorMessage(form) }}</small>
    </div>

    <p-button
      (onClick)="onSubmit(); $event.preventDefault()"
      [disabled]="form.invalid || !!(isLoading$ | async)"
      class="submit-btn"
      type="submit"
      [raised]="true"
      >Log in</p-button
    >
  </form>
</p-card>
